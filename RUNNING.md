# ðŸš€ å¿«é€Ÿè¿è¡ŒæŒ‡å—

> **å¦‚æžœä½ åˆšéƒ¨ç½²å¥½åº”ç”¨ï¼Œæ‰¾ä¸åˆ° streamlit å‘½ä»¤ï¼Œè¯·æŒ‰ç…§æœ¬æŒ‡å—è§£å†³ï¼**

## ç›®å½•
- [é—®é¢˜è¯Šæ–­](#é—®é¢˜è¯Šæ–­)
- [é…ç½® API å¯†é’¥](#é…ç½®-api-å¯†é’¥)
- [å‰å°è¿è¡Œ](#å‰å°è¿è¡Œ)
- [åŽå°è¿è¡Œ](#åŽå°è¿è¡Œç”Ÿäº§æŽ¨è)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ðŸ“‹ é…ç½® API å¯†é’¥

é¦–å…ˆè§£å†³ `.env` é…ç½®é—®é¢˜ï¼Œè¿™æ˜¯åº”ç”¨å¯åŠ¨çš„å¿…è¦æ¡ä»¶ã€‚

### æ­¥éª¤1ï¼šåˆ›å»º .env æ–‡ä»¶

```bash
cd /www/wwwroot/binance

# å¤åˆ¶æ¨¡æ¿æ–‡ä»¶
cp .env.example .env
```

### æ­¥éª¤2ï¼šç¼–è¾‘å¹¶å¡«å…¥ API å¯†é’¥

```bash
# ä½¿ç”¨ nano ç¼–è¾‘ï¼ˆç®€å•ï¼‰
nano .env

# æˆ–ä½¿ç”¨ vim ç¼–è¾‘ï¼ˆé«˜çº§ï¼‰
vim .env
```

### æ­¥éª¤3ï¼šè®¾ç½®ä½ çš„ API å¯†é’¥

ç¼–è¾‘æ–‡ä»¶å†…å®¹ï¼Œæ‰¾åˆ°ä»¥ä¸‹è¡Œå¹¶å¡«å…¥ä½ çš„å¯†é’¥ï¼š

```bash
# å¸å®‰æœŸè´§APIé…ç½®
BINANCE_API_KEY=ä½ çš„å¸å®‰APIå¯†é’¥
BINANCE_API_SECRET=ä½ çš„å¸å®‰APIç§˜å¯†

# DeepSeek AI APIé…ç½®
DEEPSEEK_API_KEY=ä½ çš„DeepSeek APIå¯†é’¥

# åº”ç”¨é…ç½®ï¼ˆå¯é€‰ï¼‰
REFRESH_INTERVAL=2
KLINE_INTERVAL=1h
APP_TITLE=å¸å®‰æœŸè´§AIåˆ†æžç³»ç»Ÿ
SERVER_PORT=8501
SERVER_ADDRESS=0.0.0.0
DATABASE_PATH=./analysis_cache.db
DEBUG_MODE=false
```

### æ­¥éª¤4ï¼šä¿å­˜æ–‡ä»¶

- **nano**: æŒ‰ `Ctrl+O` ä¿å­˜ï¼Œ`Ctrl+X` é€€å‡º
- **vim**: æŒ‰ `Esc` è¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œè¾“å…¥ `:wq` ä¿å­˜é€€å‡º

---

## é—®é¢˜è¯Šæ–­

### é—®é¢˜ï¼šåº”ç”¨å¯åŠ¨æŠ¥é”™ `BINANCE_API_KEY not found`

**åŽŸå› **ï¼š`.env` æ–‡ä»¶ä¸å­˜åœ¨æˆ– API å¯†é’¥æœªé…ç½®

**è§£å†³**ï¼šæŒ‰ç…§ä¸Šé¢çš„ [é…ç½® API å¯†é’¥](#é…ç½®-api-å¯†é’¥) éƒ¨åˆ†æ“ä½œ

---

### é—®é¢˜ï¼š`streamlit: command not found`

**åŽŸå› **ï¼šè™šæ‹ŸçŽ¯å¢ƒæœªæ¿€æ´»

**è§£å†³**ï¼šä½¿ç”¨è™šæ‹ŸçŽ¯å¢ƒçš„å®Œæ•´è·¯å¾„ï¼Œæˆ–è¿è¡Œå¯åŠ¨è„šæœ¬ï¼ˆè§ä¸‹é¢ï¼‰

---

## ðŸ–¥ï¸ å‰å°è¿è¡Œ

é€‚åˆå¼€å‘æµ‹è¯•å’Œè°ƒè¯•ã€‚

### æ–¹æ³•1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæœ€ç®€å• â­ï¼‰

```bash
cd /www/wwwroot/binance
./run.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- æ£€æµ‹å’Œåˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒï¼ˆå¦‚æžœä¸å­˜åœ¨ï¼‰
- åŠ è½½ .env æ–‡ä»¶çš„é…ç½®
- å¯åŠ¨åº”ç”¨
- æ˜¾ç¤ºåº”ç”¨æ—¥å¿—

### æ–¹æ³•2ï¼šä½¿ç”¨è™šæ‹ŸçŽ¯å¢ƒä¸­çš„ streamlit

```bash
cd /www/wwwroot/binance
source venv/bin/activate
streamlit run main.py
```

### æ–¹æ³•3ï¼šç›´æŽ¥ä½¿ç”¨å®Œæ•´è·¯å¾„

```bash
./venv/bin/streamlit run main.py
```

---

## ðŸŽ¯ åŽå°è¿è¡Œï¼ˆç”Ÿäº§æŽ¨èï¼‰

é€‚åˆåœ¨æœåŠ¡å™¨ä¸Šé•¿æœŸè¿è¡Œã€‚

### ä½¿ç”¨ daemon.sh ç®¡ç†è„šæœ¬ï¼ˆâ­ å¼ºçƒˆæŽ¨èï¼‰

```bash
# å¯åŠ¨åº”ç”¨ï¼ˆåŽå°è¿è¡Œï¼‰
./daemon.sh start

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
./daemon.sh status

# æŸ¥çœ‹å®žæ—¶æ—¥å¿—
./daemon.sh logs

# åœæ­¢åº”ç”¨
./daemon.sh stop

# é‡å¯åº”ç”¨
./daemon.sh restart
```

**daemon.sh è„šæœ¬çš„ä¼˜ç‚¹**ï¼š
- âœ… è‡ªåŠ¨æ£€æŸ¥å’Œåˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
- âœ… è‡ªåŠ¨åŠ è½½ .env é…ç½®
- âœ… åŽå°è¿è¡Œï¼Œä¸å ç”¨ç»ˆç«¯
- âœ… è‡ªåŠ¨ç®¡ç†è¿›ç¨‹å’Œæ—¥å¿—
- âœ… æ”¯æŒå¯åŠ¨/åœæ­¢/é‡å¯/æŸ¥çœ‹æ—¥å¿—

### ä½¿ç”¨ nohup æ‰‹åŠ¨åŽå°è¿è¡Œ

```bash
source venv/bin/activate

# åŽå°è¿è¡Œï¼Œå¿½ç•¥ç»ˆç«¯å…³é—­ä¿¡å·
nohup streamlit run main.py \
    --server.address=0.0.0.0 \
    --server.port=8501 \
    > streamlit.log 2>&1 &

# æŸ¥çœ‹æ—¥å¿—
tail -f streamlit.log
```

### ä½¿ç”¨ systemd æœåŠ¡ï¼ˆç”Ÿäº§æŽ¨èï¼‰

éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»º systemd æœåŠ¡ã€‚å¦‚æžœæ²¡æœ‰ï¼Œå¯æ‰‹åŠ¨åˆ›å»ºï¼š

```bash
# åˆ›å»º systemd æœåŠ¡æ–‡ä»¶
sudo tee /etc/systemd/system/binance-ai.service > /dev/null << EOF
[Unit]
Description=Binance AI Analyzer
After=network-online.target

[Service]
Type=simple
User=root
WorkingDirectory=/www/wwwroot/binance
Environment="PATH=/www/wwwroot/binance/venv/bin"
EnvironmentFile=/www/wwwroot/binance/.env
ExecStart=/www/wwwroot/binance/venv/bin/streamlit run main.py \
    --server.address=0.0.0.0 \
    --server.port=8501

Restart=on-failure
RestartSec=10

[Install]
WantedBy=multi-user.target
EOF

# å¯ç”¨å¹¶å¯åŠ¨æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl enable binance-ai
sudo systemctl start binance-ai

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status binance-ai

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u binance-ai -f
```

---

## ðŸŒ è®¿é—®åº”ç”¨

æ— è®ºä½¿ç”¨å“ªç§æ–¹æ³•ï¼Œåº”ç”¨å¯åŠ¨åŽå¯ä»¥è®¿é—®ï¼š

```
http://localhost:8501
```

æˆ–è€…ä»Žè¿œç¨‹è®¿é—®ï¼ˆå¦‚æžœåœ¨æœåŠ¡å™¨ä¸Šï¼‰ï¼š

```
http://your-server-ip:8501
```

---

## ðŸ“‹ å¸¸è§é—®é¢˜

```bash
$ streamlit run main.py
streamlit: command not found
```

è¿™æ˜¯å› ä¸º streamlit è¢«å®‰è£…åœ¨äº†è™šæ‹ŸçŽ¯å¢ƒä¸­ï¼Œè€Œä¸æ˜¯ç³»ç»Ÿå…¨å±€çŽ¯å¢ƒã€‚

---

## âœ… è§£å†³æ–¹æ¡ˆ

### **æ–¹æ³• 1ï¼šè¿è¡Œä¾¿æ·è„šæœ¬ï¼ˆæœ€ç®€å• â­ æŽ¨èï¼‰**

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/binance_api

# è¿è¡Œå¯åŠ¨è„šæœ¬
./run.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- æ£€æµ‹å’Œåˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒï¼ˆå¦‚æžœä¸å­˜åœ¨ï¼‰
- å®‰è£…æ‰€æœ‰ä¾èµ–
- å¯åŠ¨åº”ç”¨

---

### **æ–¹æ³• 2ï¼šä½¿ç”¨è™šæ‹ŸçŽ¯å¢ƒä¸­çš„ streamlit**

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/binance_api

# ç›´æŽ¥ä½¿ç”¨è™šæ‹ŸçŽ¯å¢ƒä¸­çš„ streamlit
./venv/bin/streamlit run main.py
```

æˆ–è€…å¦‚æžœæ˜¯éƒ¨ç½²è„šæœ¬åˆ›å»ºçš„çŽ¯å¢ƒï¼š
```bash
# è¿è¡Œå¯åŠ¨è„šæœ¬ï¼ˆéƒ¨ç½²è„šæœ¬å·²ä¸ºä½ åˆ›å»ºï¼‰
./start.sh
```

---

### **æ–¹æ³• 3ï¼šæ‰‹åŠ¨æ¿€æ´»è™šæ‹ŸçŽ¯å¢ƒ**

è¿™æ˜¯æ ‡å‡†çš„ Python è™šæ‹ŸçŽ¯å¢ƒåšæ³•ï¼š

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/binance_api

# 2. æ¿€æ´»è™šæ‹ŸçŽ¯å¢ƒ
source venv/bin/activate

# è™šæ‹ŸçŽ¯å¢ƒå·²æ¿€æ´»ï¼Œä½ ä¼šçœ‹åˆ° (venv) å‰ç¼€
(venv) $ 

# 3. è¿è¡Œåº”ç”¨
streamlit run main.py

# 4. é€€å‡ºè™šæ‹ŸçŽ¯å¢ƒï¼ˆå¯é€‰ï¼‰
deactivate
```

---

## ðŸŒ è®¿é—®åº”ç”¨

æ— è®ºä½¿ç”¨å“ªç§æ–¹æ³•ï¼Œåº”ç”¨å¯åŠ¨åŽå¯ä»¥è®¿é—®ï¼š

```
http://localhost:8501
```

æˆ–è€…ä»Žè¿œç¨‹è®¿é—®ï¼ˆå¦‚æžœåœ¨æœåŠ¡å™¨ä¸Šï¼‰ï¼š

```
http://your-server-ip:8501
```

---

## ðŸ“‹ å¸¸è§é—®é¢˜

### Q1: è™šæ‹ŸçŽ¯å¢ƒåœ¨å“ªé‡Œï¼Ÿ
```bash
ls -la venv/
# è™šæ‹ŸçŽ¯å¢ƒå­˜å‚¨åœ¨é¡¹ç›®ç›®å½•ä¸‹çš„ venv/ æ–‡ä»¶å¤¹ä¸­
```

### Q2: è™šæ‹ŸçŽ¯å¢ƒå ç”¨å¤šå°‘ç©ºé—´ï¼Ÿ
```bash
du -sh venv/
# é€šå¸¸ 100-200 MBï¼Œå–å†³äºŽä¾èµ–åŒ…
```

### Q3: å¦‚ä½•å¸è½½è™šæ‹ŸçŽ¯å¢ƒï¼Ÿ
```bash
rm -rf venv/
# åˆ é™¤è™šæ‹ŸçŽ¯å¢ƒæ–‡ä»¶å¤¹å³å¯ï¼Œä¸å½±å“åº”ç”¨ä»£ç 
```

### Q4: ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹ŸçŽ¯å¢ƒï¼Ÿ
è™šæ‹ŸçŽ¯å¢ƒçš„ä¼˜ç‚¹ï¼š
- âœ… éš”ç¦»é¡¹ç›®ä¾èµ–ï¼Œä¸æ±¡æŸ“ç³»ç»ŸçŽ¯å¢ƒ
- âœ… å¯ä»¥ä¸ºä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒçš„åŒ…ç‰ˆæœ¬
- âœ… ä¾¿äºŽéƒ¨ç½²å’Œç‰ˆæœ¬ç®¡ç†
- âœ… å®¹æ˜“æ¸…ç†å’Œè¿ç§»

---

## ðŸ”§ æ•…éšœæŽ’é™¤

### å¦‚æžœ `./run.sh` æƒé™ä¸è¶³

```bash
# ç»™è„šæœ¬æ·»åŠ å¯æ‰§è¡Œæƒé™
chmod +x run.sh

# ç„¶åŽå†è¿è¡Œ
./run.sh
```

### å¦‚æžœè™šæ‹ŸçŽ¯å¢ƒæŸå

```bash
# åˆ é™¤æ—§è™šæ‹ŸçŽ¯å¢ƒ
rm -rf venv/

# é‡æ–°è¿è¡Œ install_linux.sh æˆ– run.sh
# è„šæœ¬ä¼šè‡ªåŠ¨é‡å»ºè™šæ‹ŸçŽ¯å¢ƒ
./install_linux.sh
```

### å¦‚æžœ pip å®‰è£…è¶…æ—¶

```bash
# ä½¿ç”¨å›½å†…é•œåƒåŠ é€Ÿï¼ˆé˜¿é‡Œäº‘ï¼‰
pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/

# ç„¶åŽé‡æ–°è¿è¡Œè„šæœ¬
./run.sh
```

---

## ðŸ“š ç›¸å…³æ–‡æ¡£

- **[README.md](README.md)** - é¡¹ç›®å®Œæ•´æ–‡æ¡£
- **[QUICKSTART.md](QUICKSTART.md)** - å¿«é€Ÿå¼€å§‹æŒ‡å—  
- **[requirements.txt](requirements.txt)** - é¡¹ç›®ä¾èµ–åˆ—è¡¨

---

## ðŸ’¡ æç¤º

- ç¬¬ä¸€æ¬¡è¿è¡Œä¼šæ¯”è¾ƒæ…¢ï¼Œå› ä¸ºè¦å®‰è£…ä¾èµ–
- ä¹‹åŽçš„å¯åŠ¨ä¼šå¾ˆå¿«
- æŒ‰ `Ctrl+C` å¯ä»¥åœæ­¢åº”ç”¨
